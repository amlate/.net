@using Project.Domain.Enums
@using Webdiyer.WebControls.Mvc
@model Webdiyer.WebControls.Mvc.PagedList<Project.Domain.Entities.UserProfile.Voucher>

@{
    ViewBag.Title = "代金券管理";
    ViewBag.Top = "代金券管理";
    ViewBag.Second = "代金券";
}
<link href="~/Scripts/select2/css/select2.min.css" rel="stylesheet" />
<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <a class="btn btn-default btn-sm" href="@Url.Action("Download", new { eventId = ViewBag.EventId})" style="margin-left: 10px; margin-bottom: 10px">
                <i class="fa fa-plus-circle" aria-hidden="true"></i> 导出兑换码
            </a>
        </div>
        @*<div class="pull-right" style="padding-right: 15px;">
            @using (Ajax.BeginForm("VouchersSearchPost", new RouteValueDictionary { { "id", "" } }, new AjaxOptions { UpdateTargetId = "datatable", InsertionMode = InsertionMode.Replace }, new RouteValueDictionary { { "id", "searchForm" }, { "class", "form-inline" } }))
            {
                <div class="form-group">
                    <label class="sr-only" for="status">订单状态</label>
                    <select id="status" name="status" class="selectpicker show-tick form-control" data-live-search="true">
                        <option value="">全部显示</option>
                        @foreach (var item in Enum.GetValues(typeof(OrderStatus)))
                        {
                            <option value="@((int)item)">@item.GetDescription()</option>
                        }
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">
                    <span class="fa  fa-search" aria-hidden="true"></span> 搜索
                </button>
            }
        </div>*@
    </div>
    <div class="row" style="height: 5px;"></div>
</div>

<div id="datatable">
    @Html.Partial("_VouchersSearchResult", Model)
</div>
@section scripts
{
    @{Html.RegisterMvcPagerScriptResource();}
    <script>
        function Initial() {
            $('.user-editable').editable({
                url: '@Url.Action("Occup")',
                showbuttons: true,
                select2: {
                    width: 200,
                    placeholder: 'Select country',
                    allowClear: true
                }
            });
        }

        $(function() {
            $('.user-editable').editable({
                url: '@Url.Action("Occup")',
                showbuttons: true,
                select2: {
                    width: 200,
                    placeholder: 'Select country',
                    allowClear: true
                }
            });
        });
    </script>
}